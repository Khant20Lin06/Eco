(()=>{var e={};e.id=522,e.ids=[522],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},612:e=>{"use strict";e.exports=require("node:os")},7742:e=>{"use strict";e.exports=require("node:process")},5997:e=>{"use strict";e.exports=require("node:tty")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},2757:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var r=s(8149),a=s(2658),l=s(9457),i=s.n(l),n=s(9960),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["[locale]",{children:["vendor",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1931)),"C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\[locale]\\vendor\\products\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6478)),"C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\[locale]\\vendor\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4208)),"C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\[locale]\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6738)),"C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7066,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\[locale]\\vendor\\products\\page.tsx"],u="/[locale]/vendor/products/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[locale]/vendor/products/page",pathname:"/[locale]/vendor/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},21:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2195,23)),Promise.resolve().then(s.bind(s,8399))},9873:(e,t,s)=>{Promise.resolve().then(s.bind(s,4946))},4946:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(241),a=s(1662),l=s(6156),i=s(4045),n=s(3220),d=s(2999);let o={title:"",description:"",categoryId:"",status:"ACTIVE",tagIds:[]},c={sku:"",options:[{key:u(),name:"Size",value:""}],price:"0",currency:"USD",stockQty:"0",weightG:""};function u(){return`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function x(){let{ready:e,accessToken:t}=(0,d._)(),[s,x]=(0,a.useState)(!0),[p,m]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),[h,g]=(0,a.useState)(null),[y,v]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),[w,k]=(0,a.useState)([]),[C,S]=(0,a.useState)(""),[P,I]=(0,a.useState)(!1),[q,D]=(0,a.useState)(null),[A,U]=(0,a.useState)(o),[V,O]=(0,a.useState)(!1),[E,T]=(0,a.useState)(null),[M,_]=(0,a.useState)(null),[F,$]=(0,a.useState)(c),[R,G]=(0,a.useState)(!1),[Q,K]=(0,a.useState)(null),[L,z]=(0,a.useState)([]),H=(0,a.useMemo)(()=>new Map(j.map(e=>[e.id,e])),[j]),W=(0,a.useMemo)(()=>{let e=C.trim().toLowerCase();return e?y.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||(H.get(t.categoryId)?.name??"").toLowerCase().includes(e)):y},[H,y,C]),Z=(0,a.useMemo)(()=>E?y.find(e=>e.id===E)??null:null,[y,E]),B=(0,a.useMemo)(()=>Q?y.find(e=>e.id===Q)??null:null,[y,Q]);async function X(e){let[t,s,r]=await Promise.all([(0,i.gC)(e),(0,i.kb)(),(0,i.rw)()]);v(t.items),N(s.items),k(r.items)}function Y(e){U({...o,categoryId:e??j[0]?.id??""})}function J(){I(!1),D(null),Y()}function ee(){O(!1),T(null),_(null),$(c)}function et(){G(!1),K(null),z([])}function es(e,t,s){$(r=>({...r,options:r.options.map(r=>r.key===e?{...r,[t]:s}:r)}))}async function er(e){if(e.preventDefault(),t){if(!A.categoryId){b("Category is required.");return}m(!0),b(null),g(null);try{q?(await (0,i.yr)(q,{title:A.title.trim(),description:A.description.trim(),categoryId:A.categoryId,status:A.status,tagIds:A.tagIds},t),g("Product updated.")):(await (0,i.Mq)({title:A.title.trim(),description:A.description.trim(),categoryId:A.categoryId,tagIds:A.tagIds},t),g("Product created.")),await X(t),J()}catch(e){b((0,n.i)(e,"Failed to save product."))}finally{m(!1)}}}async function ea(e){if(t){m(!0),b(null),g(null);try{let s=await (0,i.Cv)(e,t);await X(t),"DELETED"===s.mode?g("Product deleted."):g("Product has orders, so it was archived instead.")}catch(e){b((0,n.i)(e,"Failed to delete product."))}finally{m(!1)}}}async function el(e,s,r){if(t){m(!0),b(null),g(null);try{let r=await (0,i.K)(e,s,t);await X(t),"DISABLED"===r.mode?g("Variant is linked to orders, so stock was set to reserved quantity (disabled for new sales)."):g("Variant deleted.")}catch(a){if(a instanceof Error&&a.message.includes("409"))try{await (0,i.lg)(e,s,{stockQty:r},t),await X(t),g("Variant is linked to orders. It was disabled by setting stock to reserved quantity.")}catch(e){b((0,n.i)(e,"This variant is already used by orders, so it cannot be deleted."))}else b((0,n.i)(a,"Failed to delete variant."))}finally{m(!1)}}}async function ei(e,s){if(t){m(!0),b(null),g(null);try{await (0,i.yr)(e,{status:s},t),await X(t),g(`Product marked ${s}.`)}catch(e){b((0,n.i)(e,`Failed to mark product ${s}.`))}finally{m(!1)}}}async function en(e){if(e.preventDefault(),!t||!E)return;let s=Number(F.price),r=Number(F.stockQty),a=F.weightG.trim()?Number(F.weightG):void 0;if(!F.sku.trim()){b("SKU is required.");return}if(!Number.isInteger(s)||s<0){b("Price must be a non-negative integer (smallest unit).");return}if(!Number.isInteger(r)||r<0){b("Stock must be a non-negative integer.");return}if(null!=a&&(!Number.isInteger(a)||a<0)){b("Weight must be a non-negative integer.");return}let l=F.options.map(e=>({name:e.name.trim(),value:e.value.trim()})).filter(e=>e.name&&e.value);if(0===l.length){b("At least one variant option is required (e.g. Size, Color).");return}m(!0),b(null),g(null);try{M?(await (0,i.lg)(E,M,{sku:F.sku.trim(),options:l,price:s,stockQty:r,weightG:a},t),g("Variant updated.")):(await (0,i.Hv)(E,{sku:F.sku.trim(),options:l,price:s,currency:F.currency,stockQty:r,weightG:a},t),g("Variant created.")),await X(t),ee()}catch(e){b((0,n.i)(e,"Failed to save variant."))}finally{m(!1)}}function ed(e,t,s){z(r=>r.map(r=>{if(r.key!==e)return r;if("sortOrder"===t){let e=Number(s);return{...r,sortOrder:Number.isInteger(e)&&e>=0?e:r.sortOrder}}return{...r,altText:s}}))}async function eo(e){if(e.preventDefault(),t&&Q){if(0===L.length){b("Select at least one image file.");return}m(!0),b(null),g(null);try{let e=[],s=!1;for(let r of L){let a=r.file.type||"image/jpeg";try{let s=await (0,i.xp)({filename:r.file.name,contentType:a,size:r.file.size},t);if(!(await fetch(s.url,{method:"PUT",headers:{"Content-Type":a},body:r.file})).ok)throw Error(`Upload failed for ${r.file.name}`);e.push({url:s.publicUrl??s.url.split("?")[0]??s.url,altText:r.altText.trim()||void 0,sortOrder:r.sortOrder})}catch{if(r.file.size>204800)throw Error(`S3 upload unavailable and fallback supports files up to 200KB only (${r.file.name}).`);let t=await function(e){return new Promise((t,s)=>{let r=new FileReader;r.onload=()=>{if("string"==typeof r.result){t(r.result);return}s(Error("Failed to read file"))},r.onerror=()=>s(Error("Failed to read file")),r.readAsDataURL(e)})}(r.file);e.push({url:t,altText:r.altText.trim()||void 0,sortOrder:r.sortOrder}),s=!0}}await (0,i.FX)(Q,{images:e},t),await X(t),et(),s?g("Images attached with local fallback. Configure S3/MinIO to use object storage upload."):g("Images uploaded and attached to product.")}catch(e){b((0,n.i)(e,"Image upload failed."))}finally{m(!1)}}}return(0,a.useEffect)(()=>{if(!e)return;if(!t){b("Please login as vendor."),x(!1);return}let s=!0;return x(!0),X(t).then(()=>{s&&b(null)}).catch(e=>{s&&b((0,n.i)(e,"Failed to load vendor catalog."))}).finally(()=>{s&&x(!1)}),()=>{s=!1}},[e,t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"surface p-5",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-[#181f46]",children:"Vendor Products"}),r.jsx("p",{className:"mt-1 text-sm text-[#5d6486]",children:"Full product CRUD, variant management and image attachment from backend APIs."})]}),r.jsx("button",{className:"btn-primary rounded-xl px-4 py-2 text-sm font-semibold",onClick:function(){D(null),Y(),I(!0),b(null)},type:"button",children:"Create Product"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsx("input",{className:"min-w-[260px] flex-1 rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",placeholder:"Search title, category or description",value:C,onChange:e=>S(e.target.value)}),r.jsx("button",{className:"rounded-xl border border-[#c7d4ff] bg-white px-3 py-2 text-sm font-semibold text-[#3349ad]",onClick:()=>t&&X(t),type:"button",children:"Refresh"})]})]}),f?r.jsx("div",{className:"surface border-[#ffd7dd] bg-[#fff5f6] p-4 text-sm text-[#b12f43]",children:f}):null,h?r.jsx("div",{className:"surface border-[#d1eeda] bg-[#f1fbf4] p-4 text-sm text-[#17724b]",children:h}):null,s?r.jsx("div",{className:"surface p-4 text-sm text-[#5d6486]",children:"Loading products..."}):0===W.length?r.jsx("div",{className:"surface p-4 text-sm text-[#5d6486]",children:"No products found."}):r.jsx("div",{className:"space-y-4",children:W.map(e=>{var t;let s=e.images[0],a=H.get(e.categoryId)?.name??e.categoryId;return(0,r.jsxs)("article",{className:"surface overflow-hidden",children:[r.jsx("div",{className:"border-b border-[#e2e8ff] bg-[#f8faff] px-4 py-3",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[s?.url?r.jsx("img",{src:s.url,alt:s.altText??e.title,className:"h-14 w-14 rounded-xl border border-[#d6defb] object-cover"}):r.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl border border-dashed border-[#d6defb] bg-white text-xs text-[#7a84b3]",children:"No image"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.08em] text-[#6874a3]",children:a}),r.jsx("h3",{className:"mt-0.5 text-lg font-semibold text-[#18204d]",children:e.title}),(0,r.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"ACTIVE"===(t=e.status)?"chip chip-success":"DRAFT"===t?"chip chip-warn":"chip chip-danger",children:e.status}),(0,r.jsxs)("span",{className:"text-xs text-[#6d76a2]",children:["Variants: ",e.variants.length," • Images: ",e.images.length]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{className:"rounded-lg border border-[#bcd1ff] bg-white px-3 py-1.5 text-xs font-semibold text-[#3550c0]",onClick:()=>{D(e.id),U({title:e.title,description:e.description,categoryId:e.categoryId,status:e.status,tagIds:(e.tags??[]).map(e=>e.tagId)}),I(!0),b(null)},type:"button",children:"Edit"}),r.jsx("button",{className:"rounded-lg border border-[#bcd1ff] bg-white px-3 py-1.5 text-xs font-semibold text-[#3550c0]",onClick:()=>(function(e){let t=e.variants[0]?.currency??"USD";T(e.id),_(null),$({...c,currency:t}),O(!0),b(null)})(e),type:"button",children:"Add Variant"}),r.jsx("button",{className:"rounded-lg border border-[#bcd1ff] bg-white px-3 py-1.5 text-xs font-semibold text-[#3550c0]",onClick:()=>{z([]),K(e.id),G(!0),b(null),g(`Attach images for "${e.title}".`)},type:"button",children:"Attach Image"}),"ARCHIVED"!==e.status?r.jsx("button",{className:"rounded-lg border border-[#ffc2cd] bg-white px-3 py-1.5 text-xs font-semibold text-[#c33f53] disabled:opacity-60",onClick:()=>ea(e.id),type:"button",disabled:p,children:"Delete"}):r.jsx("button",{className:"rounded-lg border border-[#bcd1ff] bg-white px-3 py-1.5 text-xs font-semibold text-[#3550c0] disabled:opacity-60",onClick:()=>ei(e.id,"ACTIVE"),type:"button",disabled:p,children:"Restore ACTIVE"})]})]})}),(0,r.jsxs)("div",{className:"space-y-4 p-4",children:[r.jsx("p",{className:"text-sm text-[#2d396d]",children:e.description}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:0===(e.tags??[]).length?r.jsx("span",{className:"text-xs text-[#6f78a4]",children:"No tags"}):(e.tags??[]).map(e=>r.jsx("span",{className:"rounded-full bg-[#eef3ff] px-2 py-1 text-xs text-[#3352ba]",children:e.tag?.name??e.tagId},e.id))}),(0,r.jsxs)("section",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-semibold text-[#1f2858]",children:"Variants"}),(0,r.jsxs)("span",{className:"text-xs text-[#6c76a5]",children:[e.variants.length," items"]})]}),0===e.variants.length?r.jsx("div",{className:"rounded-xl border border-dashed border-[#d9e1ff] bg-[#fbfcff] px-3 py-3 text-xs text-[#7181b7]",children:"No variants yet. Add variant to enable cart selection."}):r.jsx("div",{className:"overflow-x-auto rounded-xl border border-[#d9e1ff]",children:(0,r.jsxs)("table",{className:"w-full min-w-[760px] border-collapse",children:[r.jsx("thead",{className:"bg-[#f8faff]",children:(0,r.jsxs)("tr",{className:"text-left text-xs uppercase tracking-wide text-[#6a739c]",children:[r.jsx("th",{className:"px-2 py-2",children:"SKU"}),r.jsx("th",{className:"px-2 py-2",children:"Options"}),r.jsx("th",{className:"px-2 py-2",children:"Price"}),r.jsx("th",{className:"px-2 py-2",children:"Stock"}),r.jsx("th",{className:"px-2 py-2",children:"Reserved"}),r.jsx("th",{className:"px-2 py-2",children:"Action"})]})}),r.jsx("tbody",{children:e.variants.map(t=>{var s,a;return(0,r.jsxs)("tr",{className:"border-t border-[#edf1ff] text-sm text-[#334172]",children:[r.jsx("td",{className:"px-2 py-2",children:t.sku}),r.jsx("td",{className:"px-2 py-2",children:(t.options??[]).map(e=>`${e.name}: ${e.value}`).join(" • ")||"-"}),r.jsx("td",{className:"px-2 py-2",children:(s=t.price,a=t.currency,new Intl.NumberFormat("en-US",{style:"currency",currency:"MMK"===a?"MMK":"USD",maximumFractionDigits:"MMK"===a?0:2}).format(s/("USD"===a?100:1)))}),r.jsx("td",{className:"px-2 py-2",children:t.stockQty}),r.jsx("td",{className:"px-2 py-2",children:t.reservedQty}),r.jsx("td",{className:"px-2 py-2",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{className:"rounded-lg border border-[#bcd1ff] bg-white px-2 py-1 text-xs font-semibold text-[#3550c0]",onClick:()=>(function(e,t){let s=(t.options??[]).map(e=>({key:u(),name:e.name,value:e.value}));T(e.id),_(t.id),$({sku:t.sku,options:s.length>0?s:[{key:u(),name:"Size",value:""}],price:String(t.price),currency:t.currency??"USD",stockQty:String(t.stockQty),weightG:null==t.weightG?"":String(t.weightG)}),O(!0),b(null)})(e,t),type:"button",children:"Edit"}),r.jsx("button",{className:"rounded-lg border border-[#ffc2cd] bg-white px-2 py-1 text-xs font-semibold text-[#c33f53] disabled:opacity-60",onClick:()=>el(e.id,t.id,t.reservedQty),type:"button",disabled:p,children:"Delete"})]})})]},t.id)})})]})})]}),(0,r.jsxs)("section",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-semibold text-[#1f2858]",children:"Attached Images"}),(0,r.jsxs)("span",{className:"text-xs text-[#6c76a5]",children:[e.images.length," files"]})]}),0===e.images.length?r.jsx("div",{className:"rounded-xl border border-dashed border-[#d9e1ff] bg-[#fbfcff] px-3 py-3 text-xs text-[#7181b7]",children:"No images attached."}):r.jsx("div",{className:"flex flex-wrap gap-2",children:e.images.map(t=>(0,r.jsxs)("figure",{className:"w-[108px] overflow-hidden rounded-xl border border-[#d7dffd] bg-white",children:[r.jsx("img",{src:t.url,alt:t.altText??e.title,className:"h-20 w-full object-cover"}),(0,r.jsxs)("figcaption",{className:"px-2 py-1 text-[11px] text-[#65709f]",children:["#",t.sortOrder]})]},t.id))})]})]})]},e.id)})})]}),r.jsx(l.Z,{open:P,title:q?"Update Product":"Create Product",onClose:J,children:(0,r.jsxs)("form",{className:"space-y-3",onSubmit:er,children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["Title",r.jsx("input",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",value:A.title,onChange:e=>U(t=>({...t,title:e.target.value})),minLength:2,maxLength:120,required:!0})]}),(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["Description",r.jsx("textarea",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",value:A.description,onChange:e=>U(t=>({...t,description:e.target.value})),minLength:10,rows:5,required:!0})]}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["Category",(0,r.jsxs)("select",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",value:A.categoryId,onChange:e=>U(t=>({...t,categoryId:e.target.value})),required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:"Select category"}),j.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["Status",(0,r.jsxs)("select",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",value:A.status,onChange:e=>U(t=>({...t,status:e.target.value})),disabled:!q,children:[r.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),r.jsx("option",{value:"DRAFT",children:"DRAFT"}),r.jsx("option",{value:"ARCHIVED",children:"ARCHIVED"})]}),q?null:r.jsx("p",{className:"mt-1 text-xs text-[#6f78a7]",children:"New product defaults to ACTIVE by backend logic."})]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#2b376b]",children:"Sustainability Tags"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.map(e=>{let t=A.tagIds.includes(e.id);return r.jsx("button",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${t?"border-[#3550be] bg-[#3550be] text-white":"border-[#cad6ff] bg-white text-[#334278]"}`,onClick:()=>{var t;return t=e.id,void U(e=>{let s=e.tagIds.includes(t);return{...e,tagIds:s?e.tagIds.filter(e=>e!==t):[...e.tagIds,t]}})},type:"button",children:e.name},e.id)})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{className:"rounded-xl border border-[#cad6ff] px-4 py-2 text-sm font-semibold text-[#3349ad]",type:"button",onClick:J,children:"Cancel"}),r.jsx("button",{className:"btn-primary rounded-xl px-4 py-2 text-sm font-semibold disabled:opacity-60",type:"submit",disabled:p,children:p?"Saving...":q?"Update Product":"Create Product"})]})]})}),r.jsx(l.Z,{open:V,title:M?"Update Variant":"Create Variant",onClose:ee,children:(0,r.jsxs)("form",{className:"space-y-3",onSubmit:en,children:[(0,r.jsxs)("p",{className:"text-xs text-[#6f78a7]",children:["Product: ",r.jsx("span",{className:"font-semibold text-[#2a3564]",children:Z?.title??"-"})]}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["SKU",r.jsx("input",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",value:F.sku,onChange:e=>$(t=>({...t,sku:e.target.value})),required:!0})]}),(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["Currency",(0,r.jsxs)("select",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",value:F.currency,onChange:e=>$(t=>({...t,currency:e.target.value})),children:[r.jsx("option",{value:"USD",children:"USD"}),r.jsx("option",{value:"MMK",children:"MMK"})]})]}),(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["Price (smallest unit)",r.jsx("input",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",type:"number",min:0,value:F.price,onChange:e=>$(t=>({...t,price:e.target.value})),required:!0})]}),(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["Stock Qty",r.jsx("input",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",type:"number",min:0,value:F.stockQty,onChange:e=>$(t=>({...t,stockQty:e.target.value})),required:!0})]}),(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b] md:col-span-2",children:["Weight (grams, optional)",r.jsx("input",{className:"mt-1 w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",type:"number",min:0,value:F.weightG,onChange:e=>$(t=>({...t,weightG:e.target.value}))})]})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-[#dbe2ff] bg-[#f9fbff] p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold text-[#2b376b]",children:"Variant Options"}),r.jsx("button",{className:"rounded-lg border border-[#bcd1ff] bg-white px-2 py-1 text-xs font-semibold text-[#3550c0]",onClick:function(){$(e=>({...e,options:[...e.options,{key:u(),name:"",value:""}]}))},type:"button",children:"Add Option"})]}),r.jsx("div",{className:"mt-2 space-y-2",children:F.options.map(e=>(0,r.jsxs)("div",{className:"grid gap-2 md:grid-cols-[1fr_1fr_auto]",children:[r.jsx("input",{className:"rounded-lg border border-[#cfd9ff] px-3 py-2 text-sm",placeholder:"Option name (e.g. Size)",value:e.name,onChange:t=>es(e.key,"name",t.target.value),required:!0}),r.jsx("input",{className:"rounded-lg border border-[#cfd9ff] px-3 py-2 text-sm",placeholder:"Value (e.g. M)",value:e.value,onChange:t=>es(e.key,"value",t.target.value),required:!0}),r.jsx("button",{className:"rounded-lg border border-[#ffc2cd] bg-white px-3 py-2 text-xs font-semibold text-[#c33f53]",onClick:()=>{var t;return t=e.key,void $(e=>e.options.length<=1?e:{...e,options:e.options.filter(e=>e.key!==t)})},type:"button",children:"Remove"})]},e.key))})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{className:"rounded-xl border border-[#cad6ff] px-4 py-2 text-sm font-semibold text-[#3349ad]",type:"button",onClick:ee,children:"Cancel"}),r.jsx("button",{className:"btn-secondary rounded-xl px-4 py-2 text-sm font-semibold disabled:opacity-60",type:"submit",disabled:p,children:p?"Saving...":M?"Update Variant":"Create Variant"})]})]})}),r.jsx(l.Z,{open:R,title:"Attach Product Images",onClose:et,children:(0,r.jsxs)("form",{className:"space-y-3",onSubmit:eo,children:[(0,r.jsxs)("p",{className:"text-xs text-[#6f78a7]",children:["Product: ",r.jsx("span",{className:"font-semibold text-[#2a3564]",children:B?.title??"-"})]}),(0,r.jsxs)("label",{className:"block text-sm font-semibold text-[#2b376b]",children:["Select files",r.jsx("input",{className:"mt-1 block w-full rounded-xl border border-[#cfd9ff] px-3 py-2 text-sm",type:"file",accept:"image/png,image/jpeg,image/webp",multiple:!0,onChange:function(e){let t=e.target.files;if(!t||!B)return;let s=B.images.length+L.length,r=Array.from(t).map((e,t)=>({key:u(),file:e,altText:"",sortOrder:s+t}));z(e=>[...e,...r]),e.target.value=""}})]}),0===L.length?r.jsx("p",{className:"text-xs text-[#6f78a7]",children:"No files selected."}):r.jsx("div",{className:"space-y-2",children:L.map(e=>(0,r.jsxs)("div",{className:"rounded-xl border border-[#d9e1ff] p-3",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#223065]",children:e.file.name}),(0,r.jsxs)("p",{className:"text-xs text-[#6f78a7]",children:[(e.file.size/1024).toFixed(1)," KB • ",e.file.type||"unknown"]})]}),r.jsx("button",{className:"rounded-lg border border-[#ffc2cd] bg-white px-2 py-1 text-xs font-semibold text-[#c33f53]",onClick:()=>{var t;return t=e.key,void z(e=>e.filter(e=>e.key!==t))},type:"button",children:"Remove"})]}),(0,r.jsxs)("div",{className:"mt-2 grid gap-2 md:grid-cols-[1fr_140px]",children:[r.jsx("input",{className:"rounded-lg border border-[#cfd9ff] px-3 py-2 text-sm",placeholder:"Alt text (optional)",value:e.altText,onChange:t=>ed(e.key,"altText",t.target.value)}),r.jsx("input",{className:"rounded-lg border border-[#cfd9ff] px-3 py-2 text-sm",type:"number",min:0,value:e.sortOrder,onChange:t=>ed(e.key,"sortOrder",t.target.value)})]})]},e.key))}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{className:"rounded-xl border border-[#cad6ff] px-4 py-2 text-sm font-semibold text-[#3349ad]",type:"button",onClick:et,children:"Cancel"}),r.jsx("button",{className:"btn-primary rounded-xl px-4 py-2 text-sm font-semibold disabled:opacity-60",type:"submit",disabled:p||0===L.length,children:p?"Uploading...":"Upload & Attach"})]})]})})]})}},6156:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(241);function a({open:e,title:t,onClose:s,children:a}){return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-slate-900/40 p-4 pt-16",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl rounded-2xl border border-slate-200 bg-white shadow-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:t}),r.jsx("button",{className:"rounded-md border border-slate-300 px-3 py-1 text-sm text-slate-700 hover:bg-slate-100",onClick:s,type:"button",children:"Close"})]}),r.jsx("div",{className:"max-h-[75vh] overflow-y-auto p-5",children:a})]})}):null}},8399:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(241),a=s(8170),l=s(8895);let i=[{key:"overview",label:"Overview"},{key:"products",label:"Products"},{key:"orders",label:"Orders"},{key:"shipping",label:"Shipping"},{key:"returns",label:"Returns"}];function n({locale:e}){let t=(0,l.usePathname)(),s=i.map(t=>({...t,href:"overview"===t.key?`/${e}/vendor`:`/${e}/vendor/${t.key}`}));return(0,r.jsxs)("aside",{className:"surface h-fit overflow-hidden p-0",children:[r.jsx("div",{className:"border-b border-[#e1e8ff] bg-[#f7f9ff] px-4 py-3",children:r.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-[#5b6797]",children:"Vendor Panel"})}),r.jsx("nav",{className:"space-y-1 p-3",children:s.map(e=>{var s;let l=t===(s=e.href)||t.startsWith(`${s}/`);return r.jsx(a.default,{href:e.href,className:l?"block rounded-xl border border-[#bfcfff] bg-[#edf3ff] px-3 py-2 text-sm font-semibold text-[#2a46aa]":"block rounded-xl border border-transparent px-3 py-2 text-sm font-medium text-[#2a3361] hover:border-[#d6deff] hover:bg-[#f6f8ff]",children:e.label},e.key)})})]})}},3220:(e,t,s)=>{"use strict";function r(e,t){return e instanceof Error?e.message.includes("401")?"Session expired. Please login again.":e.message.includes("403")?"You do not have permission for this vendor action.":e.message.includes("404")?"Vendor profile not found. Please complete onboarding first.":e.message.includes("409")?"Conflict detected. Refresh and try again.":e.message:t}s.d(t,{i:()=>r})},6478:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(3434),a=s(1518);let l=(0,s(3596).createProxy)(String.raw`C:\Users\Admin\OneDrive\Desktop\Project\eco\frontend\src\components\vendor\VendorSidebar.tsx`),{__esModule:i,$$typeof:n}=l,d=l.default;function o({children:e,params:{locale:t}}){return(0,r.jsxs)("section",{className:"space-y-4",children:[r.jsx("header",{className:"surface overflow-hidden p-0",children:(0,r.jsxs)("div",{className:"grid gap-4 bg-gradient-to-r from-[#10245b] via-[#1a3e8f] to-[#1f7aa0] px-5 py-5 text-white md:grid-cols-[1fr_auto] md:items-end",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.1em] text-white/80",children:"Vendor Workspace"}),r.jsx("h1",{className:"mt-1 text-2xl font-semibold",children:"Store Operations"}),r.jsx("p",{className:"mt-1 text-sm text-white/85",children:"Manage catalog, fulfillment, shipping and returns from one panel."})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.jsx(a.default,{className:"rounded-lg border border-white/50 bg-white/10 px-3 py-1.5 text-xs font-semibold text-white backdrop-blur",href:`/${t}/vendor/products`,children:"Add Product"}),r.jsx(a.default,{className:"rounded-lg border border-white/50 bg-white/10 px-3 py-1.5 text-xs font-semibold text-white backdrop-blur",href:`/${t}/vendor/orders`,children:"Process Orders"})]})]})}),(0,r.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[250px_1fr]",children:[r.jsx(d,{locale:t}),r.jsx("div",{className:"min-w-0",children:e})]})]})}},1931:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let r=(0,s(3596).createProxy)(String.raw`C:\Users\Admin\OneDrive\Desktop\Project\eco\frontend\src\app\[locale]\vendor\products\page.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[563,851,482,382],()=>s(2757));module.exports=r})();