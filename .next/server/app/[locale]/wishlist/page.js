(()=>{var e={};e.id=735,e.ids=[735],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},612:e=>{"use strict";e.exports=require("node:os")},7742:e=>{"use strict";e.exports=require("node:process")},5997:e=>{"use strict";e.exports=require("node:tty")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7771:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(8149),i=s(2658),a=s(9457),n=s.n(a),l=s(9960),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["[locale]",{children:["wishlist",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8439)),"C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\[locale]\\wishlist\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4208)),"C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\[locale]\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6738)),"C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7066,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Admin\\OneDrive\\Desktop\\Project\\eco\\frontend\\src\\app\\[locale]\\wishlist\\page.tsx"],u="/[locale]/wishlist/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/[locale]/wishlist/page",pathname:"/[locale]/wishlist",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8310:(e,t,s)=>{Promise.resolve().then(s.bind(s,3658))},3658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(241),i=s(8170),a=s(8895),n=s(1662),l=s(857),o=s(4045),c=s(2999),d=s(9788);function u({params:{locale:e}}){let t=(0,a.useRouter)(),{ready:s,accessToken:u}=(0,c._)(),[m,x]=(0,n.useState)(!0),[p,f]=(0,n.useState)(!1),[h,b]=(0,n.useState)(null),[g,y]=(0,n.useState)(null),[v,j]=(0,n.useState)([]),[N,w]=(0,n.useState)(null);async function q(e){j((await (0,o.FS)(e)).items)}async function P(e){if(u){f(!0),b(null),y(null);try{await (0,o.Q9)(e,u),await q(u),(0,d.t)(),y("Removed from wishlist.")}catch{b("Failed to remove wishlist item.")}finally{f(!1)}}}async function _(s){if(u&&N){f(!0),b(null),y(null);try{await (0,o._7)(s,u),(0,d.t)(),w(null),y(`Added "${N.title}" to cart.`)}catch(s){s instanceof Error&&s.message.includes("409")?(y("Single-vendor cart only. Clear cart first."),t.push(`/${e}/cart`)):b("Failed to add item to cart.")}finally{f(!1)}}}return(0,n.useEffect)(()=>{if(!s)return;if(!u){b("Please login to see wishlist."),x(!1);return}let e=!0;return x(!0),q(u).then(()=>{e&&b(null)}).catch(()=>{e&&b("Failed to load wishlist.")}).finally(()=>{e&&x(!1)}),()=>{e=!1}},[s,u]),(0,r.jsxs)("section",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"surface p-5 md:p-6",children:[r.jsx("h1",{className:"text-2xl font-semibold text-[#181f46]",children:"Saved / Wishlist"}),r.jsx("p",{className:"mt-1 text-sm text-[#5d6486]",children:"Your saved products. Manage and move to cart anytime."})]}),h?r.jsx("div",{className:"surface border-[#ffd7dd] bg-[#fff5f6] p-4 text-sm text-[#b12f43]",children:h}):null,g?r.jsx("div",{className:"surface border-[#d1eeda] bg-[#f1fbf4] p-4 text-sm text-[#17724b]",children:g}):null,m?r.jsx("div",{className:"surface p-4 text-sm text-[#5d6486]",children:"Loading wishlist..."}):0===v.length?(0,r.jsxs)("div",{className:"surface p-4 text-sm text-[#5d6486]",children:["No saved items yet."," ",r.jsx(i.default,{className:"font-semibold text-[#3550be] hover:underline",href:`/${e}/products`,children:"Browse products"})]}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:v.map(s=>{var a,n;let l=s.product,o=l.images[0]?.url,c=l.variants[0];return(0,r.jsxs)("article",{className:"surface overflow-hidden",children:[r.jsx("div",{className:"h-44 bg-gradient-to-br from-[#ffe7ed] to-[#e7ecff]",children:o?r.jsx("img",{alt:l.title,className:"h-full w-full object-cover",src:o}):r.jsx("div",{className:"grid h-full place-items-center text-xs text-[#6b749c]",children:"No image"})}),(0,r.jsxs)("div",{className:"space-y-3 p-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"line-clamp-1 text-base font-semibold text-[#1b2148]",children:l.title}),r.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-[#5d6486]",children:l.description})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("p",{className:"font-semibold text-[#19235f]",children:c?(a=c.price,n=c.currency,new Intl.NumberFormat("en-US",{style:"currency",currency:"MMK"===n?"MMK":"USD",maximumFractionDigits:"MMK"===n?0:2}).format(a/("USD"===n?100:1))):"-"}),r.jsx("span",{className:"text-xs text-[#5d6486]",children:l.category?.name??"Category"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(i.default,{className:"rounded-lg border border-[#c9d6ff] px-3 py-2 text-center text-sm font-medium text-[#3d4d95]",href:`/${e}/product/${l.id}`,children:"Detail"}),r.jsx("button",{className:"btn-primary rounded-lg px-3 py-2 text-sm font-semibold disabled:opacity-60",onClick:()=>(function(s){if(!u){y("Please login first."),t.push(`/${e}/login`);return}if(0===s.product.variants.length){y("No purchasable variant.");return}y(null),w(s.product)})(s),type:"button",disabled:p,children:"Add Cart"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:r.jsx("button",{className:"rounded-lg border border-[#ffc2cd] bg-white px-3 py-2 text-sm font-semibold text-[#c33f53] disabled:opacity-60",onClick:()=>P(l.id),type:"button",disabled:p,children:"Remove"})})]})]},s.id)})}),r.jsx(l.Z,{locale:e,onClose:()=>w(null),onConfirm:_,open:!!N,title:N?.title??"",variants:N?.variants??[]})]})}},857:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(241),i=s(1662);function a({open:e,title:t,variants:s,locale:a,onClose:n,onConfirm:l}){var o,c;let[d,u]=(0,i.useState)({}),[m,x]=(0,i.useState)(1),[p,f]=(0,i.useState)(!1),h=(0,i.useMemo)(()=>(function(e){let t=new Map;for(let s of e)for(let e of s.options??[])t.has(e.name)||t.set(e.name,new Set),t.get(e.name)?.add(e.value);return Array.from(t.entries()).map(([e,t])=>({name:e,values:Array.from(t)}))})(s),[s]),b=(0,i.useMemo)(()=>s.find(e=>0===h.length||h.every(t=>{let s=d[t.name];if(!s)return!1;let r=(e.options??[]).find(e=>e.name===t.name);return r?.value===s}))??(0===h.length?s[0]:void 0),[h,d,s]);if((0,i.useEffect)(()=>{if(!e)return;let t={},r=s[0];for(let e of h){let s=r?.options?.find(t=>t.name===e.name)?.value??e.values[0];s&&(t[e.name]=s)}u(t),x(1)},[e,h,s]),!e)return null;let g=b?.stockQty??0;return r.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/45 px-4",onClick:n,children:(0,r.jsxs)("div",{className:"w-full max-w-lg rounded-2xl border border-[#dce3ff] bg-white p-5 shadow-[0_24px_60px_rgba(0,0,0,0.25)]",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-[#1b2452]",children:"Choose Variant"}),r.jsx("p",{className:"mt-1 text-sm text-[#5d6486] line-clamp-1",children:t})]}),r.jsx("button",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-[#d4dcff] text-[#4e5b8c]",onClick:n,type:"button",children:"\xd7"})]}),(0,r.jsxs)("div",{className:"mt-4 space-y-3",children:[h.map(e=>(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-[#2d396d]",children:e.name}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.values.map(t=>r.jsx("button",{className:`rounded-full border px-3 py-1.5 text-xs font-semibold ${d[e.name]===t?"border-[#3958c7] bg-[#3958c7] text-white":"border-[#d4ddff] bg-white text-[#2e3a6c]"}`,onClick:()=>u(s=>({...s,[e.name]:t})),type:"button",children:t},`${e.name}-${t}`))})]},e.name)),(0,r.jsxs)("div",{className:"grid gap-3 sm:grid-cols-[1fr_auto]",children:[(0,r.jsxs)("label",{className:"text-sm font-semibold text-[#2d396d]",children:["Quantity",r.jsx("input",{className:"mt-2 w-full rounded-xl border border-[#cad3ff] px-3 py-2 text-sm",min:1,max:g>0?g:void 0,onChange:e=>x(Number(e.target.value)),type:"number",value:m})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-[#d7e0ff] bg-[#f8faff] px-4 py-3",children:[r.jsx("p",{className:"text-xs text-[#60709e]",children:"Price"}),r.jsx("p",{className:"text-base font-semibold text-[#18214f]",children:b?(o=b.price,c=b.currency,new Intl.NumberFormat("my"===a?"my-MM":"en-US",{style:"currency",currency:"MMK"===c?"MMK":"USD",maximumFractionDigits:"MMK"===c?0:2}).format(o/("USD"===c?100:1))):"-"}),(0,r.jsxs)("p",{className:"mt-1 text-xs text-[#60709e]",children:["Stock ",b?.stockQty??0]})]})]})]}),(0,r.jsxs)("div",{className:"mt-5 flex justify-end gap-2",children:[r.jsx("button",{className:"rounded-lg border border-[#cad6ff] px-4 py-2 text-sm font-semibold text-[#3349ad]",onClick:n,type:"button",children:"Cancel"}),r.jsx("button",{className:"rounded-lg bg-[#3654c5] px-4 py-2 text-sm font-semibold text-white disabled:opacity-60",disabled:!b||g<=0||m<1||m>g||p,onClick:async()=>{if(b&&!(m<1)){f(!0);try{await l({variantId:b.id,qty:m})}finally{f(!1)}}},type:"button",children:p?"Adding...":"Add to bag"})]})]})})}},8439:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>n});let r=(0,s(3596).createProxy)(String.raw`C:\Users\Admin\OneDrive\Desktop\Project\eco\frontend\src\app\[locale]\wishlist\page.tsx`),{__esModule:i,$$typeof:a}=r,n=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[563,851,482,382],()=>s(7771));module.exports=r})();