(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{8251:function(e,t,s){Promise.resolve().then(s.bind(s,9624))},9624:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(5964),r=s(4141),l=s(2207),a=s(800),i=s(426),c=s(3678),o=s(6290),d=s(3178);function f(e){let{params:{locale:t}}=e,s=(0,i.useTranslations)("auth"),f=(0,l.useRouter)(),[u,m]=(0,a.useState)(""),[x,b]=(0,a.useState)(""),[p,h]=(0,a.useState)(null),[g,N]=(0,a.useState)(!1),j=(0,a.useMemo)(()=>"/".concat(t,"/register"),[t]),y=(0,a.useMemo)(()=>"/".concat(t,"/verify-email"),[t]);async function k(e){e.preventDefault(),N(!0),h(null);try{let e=await (0,c.x4)({email:u.trim(),password:x}),s=e.user.role;(0,o.pF)({accessToken:e.accessToken,role:s});let n=(0,d.fK)(t,s);f.replace(n),f.refresh()}catch(e){401===(e instanceof Error&&e.message.startsWith("API error ")?Number(e.message.replace("API error ","")):null)?h(s("loginFailed")):h("Cannot reach login API. Check backend/CORS settings.")}finally{N(!1)}}return(0,n.jsxs)("section",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"rounded-2xl border border-[#d7e0ff] bg-gradient-to-br from-[#fff0f4] to-[#ecf1ff] p-5",children:[(0,n.jsx)("p",{className:"text-xs uppercase tracking-wide text-[#5f6690]",children:"Account Access"}),(0,n.jsx)("h1",{className:"mt-2 text-3xl font-semibold text-[#181f46]",children:s("loginTitle")}),(0,n.jsx)("p",{className:"mt-2 text-sm text-[#5b6388]",children:s("loginSubtitle")})]}),(0,n.jsxs)("form",{className:"space-y-4",onSubmit:k,children:[(0,n.jsxs)("label",{className:"block text-sm",children:[(0,n.jsx)("span",{className:"mb-1 block font-medium text-[#3a4476]",children:s("email")}),(0,n.jsx)("input",{className:"w-full rounded-xl border border-[#cfd9ff] bg-white px-3 py-2 text-[#1d2551] outline-none transition focus:border-[#7f9bff]",type:"email",value:u,onChange:e=>m(e.target.value),required:!0})]}),(0,n.jsxs)("label",{className:"block text-sm",children:[(0,n.jsx)("span",{className:"mb-1 block font-medium text-[#3a4476]",children:s("password")}),(0,n.jsx)("input",{className:"w-full rounded-xl border border-[#cfd9ff] bg-white px-3 py-2 text-[#1d2551] outline-none transition focus:border-[#7f9bff]",type:"password",value:x,onChange:e=>b(e.target.value),minLength:8,required:!0})]}),p?(0,n.jsx)("p",{className:"rounded-lg border border-[#ffd3d8] bg-[#fff4f5] px-3 py-2 text-sm text-[#b12f43]",children:p}):null,(0,n.jsx)("button",{className:"btn-primary w-full rounded-xl px-4 py-2 text-sm font-semibold disabled:opacity-60",disabled:g,type:"submit",children:g?s("loggingIn"):s("login")})]}),(0,n.jsxs)("div",{className:"space-y-2 border-t border-[#e2e8ff] pt-4 text-sm text-[#5c648a]",children:[(0,n.jsxs)("p",{children:[s("noAccount")," ",(0,n.jsx)(r.default,{className:"font-semibold text-[#3349ad] underline",href:j,children:s("register")})]}),(0,n.jsxs)("p",{children:[s("needVerify")," ",(0,n.jsx)(r.default,{className:"font-semibold text-[#3349ad] underline",href:y,children:s("verifyAction")})]})]})]})}}},function(e){e.O(0,[46,426,320,716,550,744],function(){return e(e.s=8251)}),_N_E=e.O()}]);