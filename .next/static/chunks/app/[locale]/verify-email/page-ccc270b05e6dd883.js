(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[103],{7570:function(n,t,e){Promise.resolve().then(e.bind(e,1061))},1061:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return s}});var r=e(5964),o=e(4141),i=e(2207),u=e(800),c=e(426),a=e(3678);function s(n){var t,e;let{params:{locale:s}}=n,d=(0,c.useTranslations)("auth"),f=(0,i.useRouter)(),l=(0,i.useSearchParams)(),[h,m]=(0,u.useState)(null!==(t=l.get("token"))&&void 0!==t?t:""),[y,g]=(0,u.useState)(null!==(e=l.get("email"))&&void 0!==e?e:""),[b,v]=(0,u.useState)(null),[p,S]=(0,u.useState)(null),[O,x]=(0,u.useState)(!1),[N,T]=(0,u.useState)(!1),P=(0,u.useMemo)(()=>"/".concat(s,"/login"),[s]);async function J(n){n.preventDefault(),v(null),S(null),x(!0);try{await (0,a.lm)({token:h.trim()}),S(d("verifySuccess")),f.push(P)}catch(n){v(d("verifyFailed"))}finally{x(!1)}}async function k(n){n.preventDefault(),v(null),S(null),T(!0);try{let n=await (0,a.G2)({email:y.trim()});n.verifyToken?(m(n.verifyToken),S(d("verifyTokenGenerated"))):S(d("verifyResent"))}catch(n){v(d("verifyResendFailed"))}finally{T(!1)}}return(0,r.jsxs)("section",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[#d8e1ff] bg-gradient-to-br from-[#edf5ff] to-[#f9f3ff] p-5",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wide text-[#5e6791]",children:"Security Check"}),(0,r.jsx)("h1",{className:"mt-2 text-3xl font-semibold text-[#181f46]",children:d("verifyTitle")}),(0,r.jsx)("p",{className:"mt-2 text-sm text-[#5c648a]",children:d("verifySubtitle")})]}),(0,r.jsxs)("form",{className:"space-y-4",onSubmit:J,children:[(0,r.jsxs)("label",{className:"block text-sm",children:[(0,r.jsx)("span",{className:"mb-1 block font-medium text-[#3a4476]",children:d("verifyToken")}),(0,r.jsx)("input",{className:"w-full rounded-xl border border-[#cfd9ff] bg-white px-3 py-2 text-[#1d2551] outline-none transition focus:border-[#7f9bff]",type:"text",value:h,onChange:n=>m(n.target.value),required:!0})]}),b?(0,r.jsx)("p",{className:"rounded-lg border border-[#ffd3d8] bg-[#fff4f5] px-3 py-2 text-sm text-[#b12f43]",children:b}):null,p?(0,r.jsx)("p",{className:"rounded-lg border border-[#cdeedb] bg-[#edfdf4] px-3 py-2 text-sm text-[#1f8457]",children:p}):null,(0,r.jsx)("button",{className:"btn-primary w-full rounded-xl px-4 py-2 text-sm font-semibold disabled:opacity-60",disabled:O,type:"submit",children:O?d("verifying"):d("verifyAction")})]}),(0,r.jsxs)("form",{className:"space-y-3 border-t border-[#e2e8ff] pt-4",onSubmit:k,children:[(0,r.jsxs)("label",{className:"block text-sm",children:[(0,r.jsx)("span",{className:"mb-1 block font-medium text-[#3a4476]",children:d("email")}),(0,r.jsx)("input",{className:"w-full rounded-xl border border-[#cfd9ff] bg-white px-3 py-2 text-[#1d2551] outline-none transition focus:border-[#7f9bff]",type:"email",value:y,onChange:n=>g(n.target.value),required:!0})]}),(0,r.jsx)("button",{className:"btn-secondary w-full rounded-xl px-4 py-2 text-sm font-semibold disabled:opacity-60",disabled:N,type:"submit",children:N?d("sending"):d("resendVerification")})]}),(0,r.jsxs)("p",{className:"text-sm text-[#5c648a]",children:[d("hasAccount")," ",(0,r.jsx)(o.default,{className:"font-semibold text-[#3349ad] underline",href:P,children:d("login")})]})]})}},3678:function(n,t,e){"use strict";e.d(t,{$8:function(){return nT},$_:function(){return p},Ab:function(){return nh},B8:function(){return Y},Cv:function(){return L},D4:function(){return nr},DF:function(){return nu},Dn:function(){return nS},E7:function(){return ne},FS:function(){return P},FX:function(){return G},G2:function(){return s},G4:function(){return X},Gc:function(){return B},HP:function(){return na},Hv:function(){return _},Ig:function(){return h},K:function(){return F},LV:function(){return nn},Ln:function(){return J},Mq:function(){return D},PE:function(){return j},PZ:function(){return ng},Pk:function(){return nl},Q9:function(){return k},R8:function(){return nO},RF:function(){return nb},Vi:function(){return nt},WD:function(){return Q},WG:function(){return ns},WZ:function(){return E},XY:function(){return b},Zc:function(){return V},_7:function(){return $},_X:function(){return S},bD:function(){return v},bE:function(){return nP},bd:function(){return K},dM:function(){return no},dh:function(){return C},dv:function(){return Z},gC:function(){return H},hh:function(){return nd},hr:function(){return nm},hs:function(){return ny},je:function(){return ni},kB:function(){return w},kJ:function(){return y},kS:function(){return f},kb:function(){return x},lg:function(){return R},lm:function(){return a},mk:function(){return U},n7:function(){return nf},nA:function(){return m},ni:function(){return z},oL:function(){return A},op:function(){return nx},p6:function(){return W},r0:function(){return q},rj:function(){return np},rw:function(){return O},tU:function(){return g},tr:function(){return N},ts:function(){return l},vp:function(){return nc},w$:function(){return nN},wd:function(){return nv},wv:function(){return T},x4:function(){return d},xp:function(){return M},yb:function(){return nJ},yr:function(){return I},z2:function(){return c}});var r=e(3178);let o=!1;function i(n){let t=new URLSearchParams;for(let[e,r]of Object.entries(n))if(null!=r){if(Array.isArray(r)){if(0===r.length)continue;t.set(e,r.join(","));continue}t.set(e,String(r))}let e=t.toString();return e?"?".concat(e):""}async function u(n,t){let e={"Content-Type":"application/json",...(null==t?void 0:t.headers)?t.headers:{}};(null==t?void 0:t.accessToken)&&(e.Authorization="Bearer ".concat(t.accessToken));let i=await fetch("".concat("http://localhost:3001/api/v1").concat(n),{...t,headers:e});if(!i.ok){let t="";try{let n=await i.json();Array.isArray(null==n?void 0:n.message)?t=n.message.join(", "):(null==n?void 0:n.message)&&(t=n.message)}catch(n){t=""}throw 401===i.status&&function(n){if(n.startsWith("/auth/")||o)return;let t=window.location.pathname,e=function(n){let t=n.startsWith("/my/")||"/my"===n?"my":"en";return{login:"/".concat(t,"/login"),register:"/".concat(t,"/register"),verify:"/".concat(t,"/verify-email")}}(t);t!==e.login&&t!==e.register&&t!==e.verify&&(o=!0,"undefined"!=typeof document&&(document.cookie="".concat(r.ob,"=; Path=/; Max-Age=0; SameSite=Lax"),document.cookie="".concat(r.Qs,"=; Path=/; Max-Age=0; SameSite=Lax")),window.location.replace(e.login))}(n),Error(t?"API error ".concat(i.status,": ").concat(t):"API error ".concat(i.status))}return await i.json()}function c(n){return u("/auth/register",{method:"POST",body:JSON.stringify(n)})}function a(n){return u("/auth/verify-email",{method:"POST",body:JSON.stringify(n)})}function s(n){return u("/auth/resend-verification",{method:"POST",body:JSON.stringify(n)})}function d(n){return u("/auth/login",{method:"POST",body:JSON.stringify(n),credentials:"include"})}function f(){return u("/auth/logout",{method:"POST",credentials:"include"})}function l(n){return u("/users/me",{accessToken:n})}function h(n){return u("/contact",{method:"POST",body:JSON.stringify(n)})}function m(n){return u("/admin/vendors",{accessToken:n})}function y(n){return u("/admin/stats",{accessToken:n})}function g(n,t){return u("/admin/vendors",{method:"POST",body:JSON.stringify(n),accessToken:t})}function b(n,t){return u("/admin/vendors/".concat(n),{accessToken:t})}function v(n,t,e){return u("/admin/vendors/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function p(n,t){return u("/admin/vendors/".concat(n),{method:"DELETE",accessToken:t})}function S(n,t){return u("/admin/vendors/".concat(n,"/approve"),{method:"PATCH",accessToken:t})}function O(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({locale:n.locale});return u("/tags".concat(t))}function x(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({locale:n.locale});return u("/categories".concat(t))}function N(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({q:n.q,categoryId:n.categoryId,tagIds:n.tagIds,cursor:n.cursor,limit:n.limit,locale:n.locale});return u("/products".concat(t))}function T(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=i({locale:t.locale});return u("/products/".concat(n).concat(e))}function P(n){return u("/wishlist",{accessToken:n})}function J(n,t){return u("/wishlist/items",{method:"POST",body:JSON.stringify({productId:n}),accessToken:t})}function k(n,t){return u("/wishlist/items/".concat(n),{method:"DELETE",accessToken:t})}function A(n,t){return u("/admin/tags",{method:"POST",body:JSON.stringify(n),accessToken:t})}function j(n,t,e){return u("/admin/tags/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function w(n,t){return u("/admin/categories",{method:"POST",body:JSON.stringify(n),accessToken:t})}function E(n,t,e){return u("/admin/categories/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function C(n,t){return u("/vendors/apply",{method:"POST",body:JSON.stringify(n),accessToken:t})}function H(n){return u("/vendor/products",{accessToken:n})}function D(n,t){return u("/vendor/products",{method:"POST",body:JSON.stringify(n),accessToken:t})}function I(n,t,e){return u("/vendor/products/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function L(n,t){return u("/vendor/products/".concat(n),{method:"DELETE",accessToken:t})}function _(n,t,e){return u("/vendor/products/".concat(n,"/variants"),{method:"POST",body:JSON.stringify(t),accessToken:e})}function R(n,t,e,r){return u("/vendor/products/".concat(n,"/variants/").concat(t),{method:"PATCH",body:JSON.stringify(e),accessToken:r})}function F(n,t,e){return u("/vendor/products/".concat(n,"/variants/").concat(t),{method:"DELETE",accessToken:e})}function G(n,t,e){return u("/vendor/products/".concat(n,"/images"),{method:"POST",body:JSON.stringify(t),accessToken:e})}function M(n,t){return u("/uploads/presign",{method:"POST",body:JSON.stringify(n),accessToken:t})}function q(n){return u("/addresses",{accessToken:n})}function W(n,t){return u("/addresses",{method:"POST",body:JSON.stringify(n),accessToken:t})}function V(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i({vendorId:n.vendorId});return u("/shipping/pickup-locations".concat(e),{accessToken:t})}function z(n,t){let e=i({vendorId:n.vendorId,country:n.country});return u("/shipping/rates".concat(e),{accessToken:t})}function B(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return u("/vendor/shipping/rates".concat(e),{accessToken:t})}function Q(n,t){return u("/vendor/shipping/rates",{method:"POST",body:JSON.stringify(n),accessToken:t})}function U(n,t,e){return u("/vendor/shipping/rates/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function X(n,t){return u("/vendor/shipping/rates/".concat(n),{method:"DELETE",accessToken:t})}function Z(n){return u("/cart",{accessToken:n})}function $(n,t){return u("/cart/items",{method:"POST",body:JSON.stringify(n),accessToken:t})}function K(n,t,e){return u("/cart/items/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function Y(n,t){return u("/cart/items/".concat(n),{method:"DELETE",accessToken:t})}function nn(n,t){return u("/orders",{method:"POST",body:JSON.stringify(n),accessToken:t})}function nt(n){return u("/orders",{accessToken:n})}function ne(n,t,e){return u("/orders/".concat(n,"/status"),{method:"PATCH",body:JSON.stringify({status:t}),accessToken:e})}function nr(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return u("/vendor/orders".concat(e),{accessToken:t})}function no(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return u("/admin/orders".concat(e),{accessToken:t})}function ni(n,t){return u("/admin/orders/".concat(n),{accessToken:t})}function nu(n,t){return u("/payments/stripe/checkout",{method:"POST",body:JSON.stringify({orderId:n}),accessToken:t})}function nc(n,t){return u("/payments/wave/checkout",{method:"POST",body:JSON.stringify({orderId:n}),accessToken:t})}function na(n,t){return u("/payments/kbzpay/checkout",{method:"POST",body:JSON.stringify({orderId:n}),accessToken:t})}function ns(n,t){return u("/returns",{method:"POST",body:JSON.stringify(n),accessToken:t})}function nd(n){return u("/returns",{accessToken:n})}function nf(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return u("/vendor/returns".concat(e),{accessToken:t})}function nl(n,t,e){return u("/returns/".concat(n,"/approve"),{method:"PATCH",body:JSON.stringify({notes:t}),accessToken:e})}function nh(n,t,e){return u("/returns/".concat(n,"/reject"),{method:"PATCH",body:JSON.stringify({notes:t}),accessToken:e})}function nm(n,t,e){return u("/returns/".concat(n,"/receive"),{method:"PATCH",body:JSON.stringify({notes:t}),accessToken:e})}function ny(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return u("/admin/returns".concat(e),{accessToken:t})}function ng(n,t){return u("/admin/returns/".concat(n),{accessToken:t})}function nb(n,t,e){return u("/returns/".concat(n,"/refund"),{method:"PATCH",body:JSON.stringify({notes:t}),accessToken:e})}function nv(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return u("/notifications".concat(e),{accessToken:t})}function np(n){return u("/notifications/unread-count",{accessToken:n})}function nS(n){return u("/chat/unread-count",{accessToken:n})}function nO(n,t){return u("/notifications/".concat(n,"/read"),{method:"PATCH",accessToken:t})}function nx(n){return u("/notifications/read-all",{method:"PATCH",accessToken:n})}function nN(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return u("/chat/threads".concat(e),{accessToken:t})}function nT(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0,r=i(t);return u("/chat/threads/".concat(n,"/messages").concat(r),{accessToken:e})}function nP(n,t,e){return u("/chat/threads/".concat(n,"/messages"),{method:"POST",body:JSON.stringify(t),accessToken:e})}function nJ(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;return u("/chat/threads/".concat(n,"/read"),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}},3178:function(n,t,e){"use strict";e.d(t,{Qs:function(){return o},UY:function(){return i},fK:function(){return u},ob:function(){return r}});let r="eco_role",o="eco_access_token",i="eco:auth-session-changed";function u(n,t){return"ADMIN"===t?"/".concat(n,"/admin"):"VENDOR"===t?"/".concat(n,"/vendor"):"/".concat(n)}}},function(n){n.O(0,[46,426,716,550,744],function(){return n(n.s=7570)}),_N_E=n.O()}]);