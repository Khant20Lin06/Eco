(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{7892:function(e,t,n){Promise.resolve().then(n.bind(n,5444)),Promise.resolve().then(n.t.bind(n,4727,23)),Promise.resolve().then(n.bind(n,3931)),Promise.resolve().then(n.bind(n,9014)),Promise.resolve().then(n.bind(n,223)),Promise.resolve().then(n.bind(n,5811))},7919:function(e,t,n){"use strict";function r(e,t){var n=t&&t.cache?t.cache:s,r=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:function(e,t){var n,r,o=1===e.length?i:a;return n=t.cache.create(),r=t.serializer,o.bind(this,e,n,r)})(e,{cache:n,serializer:r})}function i(e,t,n,r){var i=null==r||"number"==typeof r||"boolean"==typeof r?r:n(r),a=t.get(i);return void 0===a&&(a=e.call(this,r),t.set(i,a)),a}function a(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),a=t.get(i);return void 0===a&&(a=e.apply(this,r),t.set(i,a)),a}n.r(t),n.d(t,{memoize:function(){return r},strategies:function(){return c}});var o=function(){return JSON.stringify(arguments)},l=function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(e){return this.cache[e]},e.prototype.set=function(e,t){this.cache[e]=t},e}(),s={create:function(){return new l}},c={variadic:function(e,t){var n,r;return n=t.cache.create(),r=t.serializer,a.bind(this,e,n,r)},monadic:function(e,t){var n,r;return n=t.cache.create(),r=t.serializer,i.bind(this,e,n,r)}}},5444:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.r(t),n.d(t,{default:function(){return o}});var i=n(800),a=n(4194);function o(e){let{locale:t,...n}=e;if(!t)throw Error("Failed to determine locale in `NextIntlClientProvider`, please provide the `locale` prop explicitly.\n\nSee https://next-intl.dev/docs/configuration#locale");return i.createElement(a.IntlProvider,r({locale:t},n))}},1682:function(e,t,n){"use strict";let r=n(800).createContext(void 0);t.IntlContext=r},4194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(800),i=n(156),a=n(1682);n(7919);var o=r&&r.__esModule?r:{default:r};t.IntlProvider=function(e){let{children:t,defaultTranslationValues:n,formats:l,getMessageFallback:s,locale:c,messages:u,now:f,onError:d,timeZone:h}=e,m=r.useMemo(()=>i.createCache(),[c]),v=r.useMemo(()=>i.createIntlFormatters(m),[m]),x=r.useMemo(()=>({...i.initializeConfig({locale:c,defaultTranslationValues:n,formats:l,getMessageFallback:s,messages:u,now:f,onError:d,timeZone:h}),formatters:v,cache:m}),[m,n,l,v,s,c,u,f,d,h]);return o.default.createElement(a.IntlContext.Provider,{value:x},t)}},156:function(e,t,n){"use strict";var r=n(7919);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(".")}function a(e){return i(e.namespace,e.key)}function o(e){console.error(e)}function l(e,t){return r.memoize(e,{cache:{create:()=>({get:e=>t[e],set(e,n){t[e]=n}})},strategy:r.strategies.variadic})}function s(e,t){return l(function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(...n)},t)}t.createCache=function(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}},t.createIntlFormatters=function(e){return{getDateTimeFormat:s(Intl.DateTimeFormat,e.dateTime),getNumberFormat:s(Intl.NumberFormat,e.number),getPluralRules:s(Intl.PluralRules,e.pluralRules),getRelativeTimeFormat:s(Intl.RelativeTimeFormat,e.relativeTime),getListFormat:s(Intl.ListFormat,e.list),getDisplayNames:s(Intl.DisplayNames,e.displayNames)}},t.defaultGetMessageFallback=a,t.defaultOnError=o,t.initializeConfig=function(e){let{getMessageFallback:t,messages:n,onError:r,...i}=e;return{...i,messages:n,onError:r||o,getMessageFallback:t||a}},t.joinPath=i,t.memoFn=l},9014:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(5964),i=n(2207),a=n(800),o=n(3678),l=n(6290);function s(e){let{locale:t,label:n,className:s}=e,c=(0,i.useRouter)(),[u,f]=(0,a.useTransition)();return(0,r.jsx)("button",{className:s,disabled:u,onClick:function(){f(async()=>{try{await (0,o.kS)()}catch(e){}(0,l.NW)(),c.replace("/".concat(t,"/login")),c.refresh()})},type:"button",children:u?"".concat(n,"..."):n})}},223:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(5964),i=n(4141),a=n(2207),o=n(800),l=n(3678),s=n(8440),c=n(942),u=n(3808);function f(){return(0,r.jsx)("svg",{"aria-hidden":"true",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M20 21a8 8 0 0 0-16 0M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.8"})})}function d(){return(0,r.jsx)("svg",{"aria-hidden":"true",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"m20.84 4.61-.01-.01a5.5 5.5 0 0 0-7.78 0L12 5.65l-1.05-1.04a5.5 5.5 0 0 0-7.78 7.78l1.05 1.04L12 21l7.78-7.57 1.05-1.04a5.5 5.5 0 0 0 .01-7.78z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.8"})})}function h(){return(0,r.jsx)("svg",{"aria-hidden":"true",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 7h12l-1 13H7L6 7zm3 0V5a3 3 0 1 1 6 0v2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.8"})})}function m(){return(0,r.jsx)("svg",{"aria-hidden":"true",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M15 18H5l1.5-1.5v-5a5.5 5.5 0 0 1 11 0v5L19 18h-4m0 0a3 3 0 1 1-6 0h6z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.8"})})}function v(){return(0,r.jsx)("svg",{"aria-hidden":"true",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 8h12M6 12h8m-8 8 3.8-3H18a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.8"})})}function x(e){let{accountHref:t,chatHref:n,notificationsHref:x,wishlistHref:p,bagHref:g,accountTitle:b}=e,j=(0,a.usePathname)(),{accessToken:w}=(0,s._)(),[y,k]=(0,o.useState)(0),[N,C]=(0,o.useState)(0),[M,E]=(0,o.useState)(0),[L,P]=(0,o.useState)(0),F=(0,o.useCallback)(async()=>{if(!w){k(0),C(0),E(0),P(0);return}try{var e,t,n,r;let[i,a,o,s]=await Promise.all([(0,l.FS)(w),(0,l.dv)(w),(0,l.rj)(w),(0,l.Dn)(w)]);k(i.items.length),C(null!==(t=null===(e=a.items)||void 0===e?void 0:e.reduce((e,t)=>{var n;return e+(null!==(n=t.qty)&&void 0!==n?n:0)},0))&&void 0!==t?t:0),E(null!==(n=o.count)&&void 0!==n?n:0),P(null!==(r=s.count)&&void 0!==r?r:0)}catch(e){k(0),C(0),E(0),P(0)}},[w]);return(0,o.useEffect)(()=>{F()},[F,j]),(0,o.useEffect)(()=>{if(!w)return;let e=(0,c.I)(w),t=()=>{F()},n=()=>{F()},r=()=>{F()},i=()=>{F()},a=()=>{F()},o=()=>{F()};return e.on("connect",t),e.on("notifications:new",n),e.on("notifications:read",r),e.on("notifications:read-all",i),e.on("chat:message",a),e.on("chat:read",o),()=>{e.off("connect",t),e.off("notifications:new",n),e.off("notifications:read",r),e.off("notifications:read-all",i),e.off("chat:message",a),e.off("chat:read",o)}},[w,F]),(0,o.useEffect)(()=>{let e=()=>{F()};return window.addEventListener(u.V,e),()=>{window.removeEventListener(u.V,e)}},[F]),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(i.default,{"aria-label":b,className:"inline-flex h-10 w-10 items-center justify-center rounded-full text-[#111] transition hover:bg-[#f1f1f1]",href:t,title:b,children:(0,r.jsx)(f,{})}),(0,r.jsxs)(i.default,{"aria-label":"Notifications",className:"relative inline-flex h-10 w-10 items-center justify-center rounded-full text-[#111] transition hover:bg-[#f1f1f1]",href:x,title:"Notifications",children:[(0,r.jsx)("span",{className:"absolute right-0 top-0 inline-flex h-5 min-w-[18px] items-center justify-center rounded-full bg-[#e93a52] px-1 text-[10px] font-semibold text-white",children:M}),(0,r.jsx)(m,{})]}),(0,r.jsxs)(i.default,{"aria-label":"Chat",className:"relative inline-flex h-10 w-10 items-center justify-center rounded-full text-[#111] transition hover:bg-[#f1f1f1]",href:n,title:"Chat",children:[L>0?(0,r.jsx)("span",{className:"absolute right-0 top-0 inline-flex h-5 min-w-[18px] items-center justify-center rounded-full bg-[#e93a52] px-1 text-[10px] font-semibold text-white",children:L}):null,(0,r.jsx)(v,{})]}),(0,r.jsxs)(i.default,{"aria-label":"Wishlist",className:"relative inline-flex h-10 w-10 items-center justify-center rounded-full text-[#111] transition hover:bg-[#f1f1f1]",href:p,title:"Wishlist",children:[(0,r.jsx)("span",{className:"absolute right-0 top-0 inline-flex h-5 min-w-[18px] items-center justify-center rounded-full bg-[#e93a52] px-1 text-[10px] font-semibold text-white",children:y}),(0,r.jsx)(d,{})]}),(0,r.jsxs)(i.default,{"aria-label":"Bag",className:"relative inline-flex h-10 w-10 items-center justify-center rounded-full text-[#111] transition hover:bg-[#f1f1f1]",href:g,title:"Bag",children:[(0,r.jsx)("span",{className:"absolute right-0 top-0 inline-flex h-5 min-w-[18px] items-center justify-center rounded-full bg-[#e93a52] px-1 text-[10px] font-semibold text-white",children:N}),(0,r.jsx)(h,{})]})]})}},5811:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(5964),i=n(2207),a=n(800),o=n(6952);function l(e){return"my"===e?"my":"en"}function s(e){let{locale:t,currency:n}=e,s=(0,i.useRouter)(),c=(0,i.usePathname)(),u=(0,i.useSearchParams)(),f=l(t),[d,h]=(0,a.useState)((0,o.FK)(n)),m=(0,a.useMemo)(()=>c||"/".concat(f),[c,f]);return(0,r.jsxs)("div",{className:"flex items-center gap-2 text-[11px]",children:[(0,r.jsxs)("select",{"aria-label":"Language",className:"h-7 rounded border border-white/25 bg-transparent px-2 text-[11px] font-semibold text-white outline-none",onChange:e=>(function(e){let t=l(e);if(t===f)return;let n=function(e,t){let n=e.split("/").filter(Boolean);return 0===n.length?"/".concat(t):("en"===n[0]||"my"===n[0]?n[0]=t:n.unshift(t),"/".concat(n.join("/")))}(m,t),r=u.toString();s.replace(r?"".concat(n,"?").concat(r):n)})(e.target.value),value:f,children:[(0,r.jsx)("option",{className:"text-black",value:"en",children:"EN"}),(0,r.jsx)("option",{className:"text-black",value:"my",children:"MY"})]}),(0,r.jsxs)("select",{"aria-label":"Currency",className:"h-7 rounded border border-white/25 bg-transparent px-2 text-[11px] font-semibold text-white outline-none",onChange:e=>(function(e){let t=(0,o.FK)(e);h(t),(0,o.SK)(t)})(e.target.value),value:d,children:[(0,r.jsx)("option",{className:"text-black",value:"USD",children:"USD $"}),(0,r.jsx)("option",{className:"text-black",value:"MMK",children:"MMK Ks"})]})]})}},3931:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(5964),i=n(2207);function a(e){let{mode:t,children:n}=e,a=(0,i.usePathname)();return"header"===t&&/^\/(en|my)\/(login|register)\/?$/.test(a)?null:"footer"!==t||/^\/(en|my)\/?$/.test(a)||/^\/(en|my)\/products(?:\/.*)?$/.test(a)||/^\/(en|my)\/product(?:\/.*)?$/.test(a)?(0,r.jsx)(r.Fragment,{children:n}):null}},8440:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(800),i=n(6290),a=n(3178),o=n(2207);function l(){let e=(0,o.usePathname)(),[t,n]=(0,r.useState)(!1),[l,s]=(0,r.useState)(void 0),[c,u]=(0,r.useState)(null),f=()=>{var e;s(null!==(e=(0,i.zf)(a.Qs))&&void 0!==e?e:void 0),u((0,i.ZK)())};return(0,r.useEffect)(()=>{f(),n(!0)},[e]),(0,r.useEffect)(()=>{let e=()=>{f(),n(!0)};return window.addEventListener(a.UY,e),()=>{window.removeEventListener(a.UY,e)}},[]),{ready:t,accessToken:l,role:c}}},6952:function(e,t,n){"use strict";n.d(t,{CJ:function(){return o},FK:function(){return a},SK:function(){return l},jW:function(){return i}});let r="eco_currency",i="eco:currency-preference-changed";function a(e){return"MMK"===e?"MMK":"USD"}function o(){return a(function(e){if("undefined"==typeof document)return null;let t="".concat(e,"=");for(let e of document.cookie.split(";")){let n=e.trim();if(n.startsWith(t))return decodeURIComponent(n.slice(t.length))}return null}(r))}function l(e){"undefined"!=typeof document&&(document.cookie="".concat(r,"=").concat(e,"; Path=/; Max-Age=31536000; SameSite=Lax"),window.dispatchEvent(new CustomEvent(i,{detail:e})))}},942:function(e,t,n){"use strict";n.d(t,{I:function(){return l},p:function(){return s}});var r=n(3651);let i=n(5139).env.NEXT_PUBLIC_WS_URL||"http://localhost:3001/ws",a=null,o=null;function l(e){return a&&o===e?a:(a&&a.disconnect(),o=e,a=(0,r.io)(i,{auth:{token:e},transports:["websocket"],autoConnect:!0,reconnection:!0}))}function s(){a&&(a.disconnect(),a=null,o=null)}},3808:function(e,t,n){"use strict";n.d(t,{V:function(){return r},t:function(){return i}});let r="eco:header-counts-refresh";function i(){window.dispatchEvent(new Event(r))}}},function(e){e.O(0,[46,438,320,716,550,744],function(){return e(e.s=7892)}),_N_E=e.O()}]);