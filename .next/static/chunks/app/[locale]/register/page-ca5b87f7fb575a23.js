(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{4796:function(n,t,e){Promise.resolve().then(e.bind(e,4378))},4378:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return a}});var r=e(5964),o=e(4141),i=e(2207),c=e(800),u=e(426),s=e(3678);function a(n){let{params:{locale:t}}=n,e=(0,u.useTranslations)("auth"),a=(0,i.useRouter)(),[d,f]=(0,c.useState)("CUSTOMER"),[l,m]=(0,c.useState)(""),[h,g]=(0,c.useState)(""),[y,p]=(0,c.useState)(null),[b,v]=(0,c.useState)(!1),S=(0,c.useMemo)(()=>"/".concat(t,"/login"),[t]),x=(0,c.useMemo)(()=>"/".concat(t,"/verify-email"),[t]);async function O(n){n.preventDefault(),v(!0),p(null);try{let n=await (0,s.z2)({email:l.trim(),password:h,role:d,locale:t}),e=new URLSearchParams({email:l.trim()});n.verifyToken&&e.set("token",n.verifyToken),a.push("".concat(x,"?").concat(e.toString()))}catch(n){p(e("registerFailed"))}finally{v(!1)}}return(0,r.jsxs)("section",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-2xl border border-[#d8e1ff] bg-gradient-to-br from-[#fff5f8] to-[#edf2ff] p-5",children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wide text-[#5e6791]",children:"Create Account"}),(0,r.jsx)("h1",{className:"mt-2 text-3xl font-semibold text-[#181f46]",children:e("registerTitle")}),(0,r.jsx)("p",{className:"mt-2 text-sm text-[#5c648a]",children:e("registerSubtitle")})]}),(0,r.jsxs)("form",{className:"space-y-4",onSubmit:O,children:[(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{className:"mb-2 text-sm font-medium text-[#3a4476]",children:e("role")}),(0,r.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,r.jsxs)("label",{className:"flex cursor-pointer items-center gap-2 rounded-xl border border-[#cfd9ff] bg-white px-3 py-2 text-sm text-[#2a3361]",children:[(0,r.jsx)("input",{checked:"CUSTOMER"===d,onChange:()=>f("CUSTOMER"),type:"radio",name:"role"}),e("customer")]}),(0,r.jsxs)("label",{className:"flex cursor-pointer items-center gap-2 rounded-xl border border-[#cfd9ff] bg-white px-3 py-2 text-sm text-[#2a3361]",children:[(0,r.jsx)("input",{checked:"VENDOR"===d,onChange:()=>f("VENDOR"),type:"radio",name:"role"}),e("vendor")]})]})]}),(0,r.jsxs)("label",{className:"block text-sm",children:[(0,r.jsx)("span",{className:"mb-1 block font-medium text-[#3a4476]",children:e("email")}),(0,r.jsx)("input",{className:"w-full rounded-xl border border-[#cfd9ff] bg-white px-3 py-2 text-[#1d2551] outline-none transition focus:border-[#7f9bff]",type:"email",value:l,onChange:n=>m(n.target.value),required:!0})]}),(0,r.jsxs)("label",{className:"block text-sm",children:[(0,r.jsx)("span",{className:"mb-1 block font-medium text-[#3a4476]",children:e("password")}),(0,r.jsx)("input",{className:"w-full rounded-xl border border-[#cfd9ff] bg-white px-3 py-2 text-[#1d2551] outline-none transition focus:border-[#7f9bff]",type:"password",value:h,onChange:n=>g(n.target.value),minLength:8,required:!0})]}),y?(0,r.jsx)("p",{className:"rounded-lg border border-[#ffd3d8] bg-[#fff4f5] px-3 py-2 text-sm text-[#b12f43]",children:y}):null,(0,r.jsx)("button",{className:"btn-primary w-full rounded-xl px-4 py-2 text-sm font-semibold disabled:opacity-60",disabled:b,type:"submit",children:b?e("registering"):e("register")})]}),(0,r.jsxs)("p",{className:"border-t border-[#e2e8ff] pt-4 text-sm text-[#5c648a]",children:[e("hasAccount")," ",(0,r.jsx)(o.default,{className:"font-semibold text-[#3349ad] underline",href:S,children:e("login")})]})]})}},3678:function(n,t,e){"use strict";e.d(t,{$8:function(){return nT},$_:function(){return v},Ab:function(){return nm},B8:function(){return Y},Cv:function(){return I},D4:function(){return nr},DF:function(){return nc},Dn:function(){return nS},E7:function(){return ne},FS:function(){return P},FX:function(){return U},G2:function(){return a},G4:function(){return X},Gc:function(){return G},HP:function(){return ns},Hv:function(){return _},Ig:function(){return m},K:function(){return M},LV:function(){return nn},Ln:function(){return J},Mq:function(){return D},PE:function(){return w},PZ:function(){return ny},Pk:function(){return nl},Q9:function(){return j},R8:function(){return nx},RF:function(){return np},Vi:function(){return nt},WD:function(){return B},WG:function(){return na},WZ:function(){return A},XY:function(){return p},Zc:function(){return W},_7:function(){return $},_X:function(){return S},bD:function(){return b},bE:function(){return nP},bd:function(){return K},dM:function(){return no},dh:function(){return C},dv:function(){return Z},gC:function(){return H},hh:function(){return nd},hr:function(){return nh},hs:function(){return ng},je:function(){return ni},kB:function(){return E},kJ:function(){return g},kS:function(){return f},kb:function(){return O},lg:function(){return R},lm:function(){return s},mk:function(){return Q},n7:function(){return nf},nA:function(){return h},ni:function(){return z},oL:function(){return k},op:function(){return nO},p6:function(){return V},r0:function(){return F},rj:function(){return nv},rw:function(){return x},tU:function(){return y},tr:function(){return N},ts:function(){return l},vp:function(){return nu},w$:function(){return nN},wd:function(){return nb},wv:function(){return T},x4:function(){return d},xp:function(){return q},yb:function(){return nJ},yr:function(){return L},z2:function(){return u}});var r=e(3178);let o=!1;function i(n){let t=new URLSearchParams;for(let[e,r]of Object.entries(n))if(null!=r){if(Array.isArray(r)){if(0===r.length)continue;t.set(e,r.join(","));continue}t.set(e,String(r))}let e=t.toString();return e?"?".concat(e):""}async function c(n,t){let e={"Content-Type":"application/json",...(null==t?void 0:t.headers)?t.headers:{}};(null==t?void 0:t.accessToken)&&(e.Authorization="Bearer ".concat(t.accessToken));let i=await fetch("".concat("http://localhost:3001/api/v1").concat(n),{...t,headers:e});if(!i.ok){let t="";try{let n=await i.json();Array.isArray(null==n?void 0:n.message)?t=n.message.join(", "):(null==n?void 0:n.message)&&(t=n.message)}catch(n){t=""}throw 401===i.status&&function(n){if(n.startsWith("/auth/")||o)return;let t=window.location.pathname,e=function(n){let t=n.startsWith("/my/")||"/my"===n?"my":"en";return{login:"/".concat(t,"/login"),register:"/".concat(t,"/register"),verify:"/".concat(t,"/verify-email")}}(t);t!==e.login&&t!==e.register&&t!==e.verify&&(o=!0,"undefined"!=typeof document&&(document.cookie="".concat(r.ob,"=; Path=/; Max-Age=0; SameSite=Lax"),document.cookie="".concat(r.Qs,"=; Path=/; Max-Age=0; SameSite=Lax")),window.location.replace(e.login))}(n),Error(t?"API error ".concat(i.status,": ").concat(t):"API error ".concat(i.status))}return await i.json()}function u(n){return c("/auth/register",{method:"POST",body:JSON.stringify(n)})}function s(n){return c("/auth/verify-email",{method:"POST",body:JSON.stringify(n)})}function a(n){return c("/auth/resend-verification",{method:"POST",body:JSON.stringify(n)})}function d(n){return c("/auth/login",{method:"POST",body:JSON.stringify(n),credentials:"include"})}function f(){return c("/auth/logout",{method:"POST",credentials:"include"})}function l(n){return c("/users/me",{accessToken:n})}function m(n){return c("/contact",{method:"POST",body:JSON.stringify(n)})}function h(n){return c("/admin/vendors",{accessToken:n})}function g(n){return c("/admin/stats",{accessToken:n})}function y(n,t){return c("/admin/vendors",{method:"POST",body:JSON.stringify(n),accessToken:t})}function p(n,t){return c("/admin/vendors/".concat(n),{accessToken:t})}function b(n,t,e){return c("/admin/vendors/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function v(n,t){return c("/admin/vendors/".concat(n),{method:"DELETE",accessToken:t})}function S(n,t){return c("/admin/vendors/".concat(n,"/approve"),{method:"PATCH",accessToken:t})}function x(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({locale:n.locale});return c("/tags".concat(t))}function O(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({locale:n.locale});return c("/categories".concat(t))}function N(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({q:n.q,categoryId:n.categoryId,tagIds:n.tagIds,cursor:n.cursor,limit:n.limit,locale:n.locale});return c("/products".concat(t))}function T(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=i({locale:t.locale});return c("/products/".concat(n).concat(e))}function P(n){return c("/wishlist",{accessToken:n})}function J(n,t){return c("/wishlist/items",{method:"POST",body:JSON.stringify({productId:n}),accessToken:t})}function j(n,t){return c("/wishlist/items/".concat(n),{method:"DELETE",accessToken:t})}function k(n,t){return c("/admin/tags",{method:"POST",body:JSON.stringify(n),accessToken:t})}function w(n,t,e){return c("/admin/tags/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function E(n,t){return c("/admin/categories",{method:"POST",body:JSON.stringify(n),accessToken:t})}function A(n,t,e){return c("/admin/categories/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function C(n,t){return c("/vendors/apply",{method:"POST",body:JSON.stringify(n),accessToken:t})}function H(n){return c("/vendor/products",{accessToken:n})}function D(n,t){return c("/vendor/products",{method:"POST",body:JSON.stringify(n),accessToken:t})}function L(n,t,e){return c("/vendor/products/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function I(n,t){return c("/vendor/products/".concat(n),{method:"DELETE",accessToken:t})}function _(n,t,e){return c("/vendor/products/".concat(n,"/variants"),{method:"POST",body:JSON.stringify(t),accessToken:e})}function R(n,t,e,r){return c("/vendor/products/".concat(n,"/variants/").concat(t),{method:"PATCH",body:JSON.stringify(e),accessToken:r})}function M(n,t,e){return c("/vendor/products/".concat(n,"/variants/").concat(t),{method:"DELETE",accessToken:e})}function U(n,t,e){return c("/vendor/products/".concat(n,"/images"),{method:"POST",body:JSON.stringify(t),accessToken:e})}function q(n,t){return c("/uploads/presign",{method:"POST",body:JSON.stringify(n),accessToken:t})}function F(n){return c("/addresses",{accessToken:n})}function V(n,t){return c("/addresses",{method:"POST",body:JSON.stringify(n),accessToken:t})}function W(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i({vendorId:n.vendorId});return c("/shipping/pickup-locations".concat(e),{accessToken:t})}function z(n,t){let e=i({vendorId:n.vendorId,country:n.country});return c("/shipping/rates".concat(e),{accessToken:t})}function G(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return c("/vendor/shipping/rates".concat(e),{accessToken:t})}function B(n,t){return c("/vendor/shipping/rates",{method:"POST",body:JSON.stringify(n),accessToken:t})}function Q(n,t,e){return c("/vendor/shipping/rates/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function X(n,t){return c("/vendor/shipping/rates/".concat(n),{method:"DELETE",accessToken:t})}function Z(n){return c("/cart",{accessToken:n})}function $(n,t){return c("/cart/items",{method:"POST",body:JSON.stringify(n),accessToken:t})}function K(n,t,e){return c("/cart/items/".concat(n),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}function Y(n,t){return c("/cart/items/".concat(n),{method:"DELETE",accessToken:t})}function nn(n,t){return c("/orders",{method:"POST",body:JSON.stringify(n),accessToken:t})}function nt(n){return c("/orders",{accessToken:n})}function ne(n,t,e){return c("/orders/".concat(n,"/status"),{method:"PATCH",body:JSON.stringify({status:t}),accessToken:e})}function nr(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return c("/vendor/orders".concat(e),{accessToken:t})}function no(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return c("/admin/orders".concat(e),{accessToken:t})}function ni(n,t){return c("/admin/orders/".concat(n),{accessToken:t})}function nc(n,t){return c("/payments/stripe/checkout",{method:"POST",body:JSON.stringify({orderId:n}),accessToken:t})}function nu(n,t){return c("/payments/wave/checkout",{method:"POST",body:JSON.stringify({orderId:n}),accessToken:t})}function ns(n,t){return c("/payments/kbzpay/checkout",{method:"POST",body:JSON.stringify({orderId:n}),accessToken:t})}function na(n,t){return c("/returns",{method:"POST",body:JSON.stringify(n),accessToken:t})}function nd(n){return c("/returns",{accessToken:n})}function nf(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return c("/vendor/returns".concat(e),{accessToken:t})}function nl(n,t,e){return c("/returns/".concat(n,"/approve"),{method:"PATCH",body:JSON.stringify({notes:t}),accessToken:e})}function nm(n,t,e){return c("/returns/".concat(n,"/reject"),{method:"PATCH",body:JSON.stringify({notes:t}),accessToken:e})}function nh(n,t,e){return c("/returns/".concat(n,"/receive"),{method:"PATCH",body:JSON.stringify({notes:t}),accessToken:e})}function ng(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return c("/admin/returns".concat(e),{accessToken:t})}function ny(n,t){return c("/admin/returns/".concat(n),{accessToken:t})}function np(n,t,e){return c("/returns/".concat(n,"/refund"),{method:"PATCH",body:JSON.stringify({notes:t}),accessToken:e})}function nb(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return c("/notifications".concat(e),{accessToken:t})}function nv(n){return c("/notifications/unread-count",{accessToken:n})}function nS(n){return c("/chat/unread-count",{accessToken:n})}function nx(n,t){return c("/notifications/".concat(n,"/read"),{method:"PATCH",accessToken:t})}function nO(n){return c("/notifications/read-all",{method:"PATCH",accessToken:n})}function nN(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=i(n);return c("/chat/threads".concat(e),{accessToken:t})}function nT(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0,r=i(t);return c("/chat/threads/".concat(n,"/messages").concat(r),{accessToken:e})}function nP(n,t,e){return c("/chat/threads/".concat(n,"/messages"),{method:"POST",body:JSON.stringify(t),accessToken:e})}function nJ(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;return c("/chat/threads/".concat(n,"/read"),{method:"PATCH",body:JSON.stringify(t),accessToken:e})}},3178:function(n,t,e){"use strict";e.d(t,{Qs:function(){return o},UY:function(){return i},fK:function(){return c},ob:function(){return r}});let r="eco_role",o="eco_access_token",i="eco:auth-session-changed";function c(n,t){return"ADMIN"===t?"/".concat(n,"/admin"):"VENDOR"===t?"/".concat(n,"/vendor"):"/".concat(n)}}},function(n){n.O(0,[46,426,716,550,744],function(){return n(n.s=4796)}),_N_E=n.O()}]);